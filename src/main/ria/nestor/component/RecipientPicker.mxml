<?xml version="1.0" ?>
<mx:Panel xmlns:mx="http://www.adobe.com/2006/mxml">
    <mx:Script><![CDATA[
        import mx.managers.PopUpManager;
        import mx.rpc.events.ResultEvent;

        import nestor.model.Recipient;

        public var recipient:Recipient;

        private function save():void {
            recipient = new Recipient();
            recipient.name_fr = recipientName_fr.text;
            recipient.name_nl = recipientName_nl.text;
            recipient.postalCode = postalCode.text;
            srv.save(recipient);
        }

        private function createResult(event:ResultEvent):void
        {
            PopUpManager.removePopUp(this);

        }

                   ]]>
    </mx:Script>

    <mx:RemoteObject id="srv" destination="picker">
        <mx:method name="save" result="createResult(event)"/>
    </mx:RemoteObject>

    <mx:VBox borderStyle="solid" paddingTop="10" paddingBottom="10"
             paddingLeft="10" paddingRight="10">

        <mx:Form>
            <mx:FormHeading label="Create new recipient"/>
            <mx:FormItem label="French Name:">
                <mx:TextInput id="recipientName_fr"/>
            </mx:FormItem>
            <mx:FormItem label="NL Name:">
                <mx:TextInput id="recipientName_nl"/>
            </mx:FormItem>
            <mx:FormItem label="Code Postal:">
                <mx:TextInput id="postalCode" />
            </mx:FormItem>
        </mx:Form>
        <mx:Button label="Save" click="save()" bottom="10" left="10" height="36" width="63"/>
        <mx:Button label="Cancel" click="PopUpManager.removePopUp(this)" bottom="10" left="10" height="36" width="63"/>
    </mx:VBox>
</mx:Panel>